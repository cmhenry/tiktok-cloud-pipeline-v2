---
# Shared Variables for All Hosts
# Audio Processing Pipeline

# Application user
app_user: ubuntu
app_group: ubuntu

# Pipeline code location
pipeline_repo: "https://github.com/YOUR_ORG/tiktok-cloud-pipeline-v2.git"  # CHANGE
pipeline_dir: /opt/pipeline
pipeline_venv: /opt/pipeline/venv

# Redis configuration
redis_host: "{{ hostvars[groups['orchestrator'][0]]['ansible_host'] }}"
redis_port: 6379

# PostgreSQL configuration (matches RA App credentials)
postgres_host: "{{ hostvars[groups['orchestrator'][0]]['ansible_host'] }}"
postgres_port: 5432
postgres_db: transcript_db
postgres_user: transcript_user
postgres_password: "{{ vault_postgres_password }}"

# S3 Configuration (OpenStack Swift compatible)
s3_endpoint: "https://swift.example.edu:8080"  # CHANGE: Your S3 endpoint
s3_bucket: "audio-pipeline"
s3_access_key: "{{ vault_s3_access_key }}"
s3_secret_key: "{{ vault_s3_secret_key }}"

# Model sync configuration
model_source_host: "{{ groups['orchestrator'][0] }}"
model_source_path: /mnt/models

# Logging
log_dir: /var/log/pipeline

# System packages (shared across all hosts)
common_packages:
  - python3-venv
  - python3-dev
  - python3-pip
  - git
  - curl
  - htop
  - jq
